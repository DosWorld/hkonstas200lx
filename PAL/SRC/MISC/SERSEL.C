/* --------------------------------------------------------------------
   Project: PAL: Palmtop Application Library
   Module:  SERSEL.C
   Author:  Harry Konstas
   Started: 02/21/1996
   Subject: Selects the serial port mode (WIRED/INFARED)
   -------------------------------------------------------------------- */

/* --------------------------------------------------------------------
                       standard includes
   -------------------------------------------------------------------- */

#include <stdio.h>
#include <stdlib.h>

/* --------------------------------------------------------------------
                         msdos includes
   -------------------------------------------------------------------- */

#include <dos.h>

/* --------------------------------------------------------------------
                         local includes
   -------------------------------------------------------------------- */

#include "pal.h"
#include "palpriv.h"

/* --------------------------------------------------------------------
                           functions
   -------------------------------------------------------------------- */

/* --------------------------------------------------------------------
   SerialPort:
   Selects the serial port mode or off (WIRED, INFARED)
   -------------------------------------------------------------------- */

void SelectPort(int Mode)
{
   union REGS regs;
   struct SREGS segregs;

   regs.h.al = Mode;     /* 0=wired 1=IR */
   regs.h.ah = 0x49;
   int86x(0x15, &regs, &regs, &segregs);
}

